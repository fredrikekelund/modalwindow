var modalwindow=function(a,b,c){var d={box:false,overlay:false,input:false};var e=function(a){var b=document.createElement(a),c=arguments[1]||{},d={html:"innerHTML","class":"className","for":"htmlFor",text:"innerText","z-index":"zIndex"};for(var e in c){var g=c[e];if(e=="styles"){f(b,g)}else if(d[e]){b[d[e]]=g}else{b.setAttribute(e,g)}}return b};var f=function(b,c){for(var d in c){var e=c[d];if(d=="opacity"){if(a.ActiveXObject){b.style.filter="alpha(opacity="+v*100+")"}b.style.opacity=e}else{b.style[d]=e}}};var g=function(a){b.body.appendChild(a)};var h=function(a){b.body.removeChild(a)};var i=function(a,b,c){if(a.addEventListener){a.addEventListener(b,c,false)}else if(a.attachEvent){a.attachEvent("on"+b,c)}};var j=function(a,b,c){if(a.removeEventListener){a.removeEventListener(b,c,false)}else if(a.detachEvent){a.detachEvent("on"+b,c)}};var k=function(){return b.body.scrollTop||a.pageYOffset};var l=function(a){d.overlay=e("div",{styles:{background:"#000",opacity:a.opacity,position:"fixed",top:0,left:0,bottom:0,right:0,"z-index":1e3}});g(d.overlay)};var m=function(b,c,d){var f=e("a",{html:b.yes_button,href:"#close"});i(f,"click",function(b){a.modalwindow.close();b.stopPropagation();b.preventDefault()});d.appendChild(f);c.appendChild(d)};var n=function(a,b,c){if(a.yes){var d=e("a",{html:a.yes_button,href:"#yes",style:"font-weight: bold;"});i(d,"click",function(b){a.yes();modalwindow.close();b.stopPropagation();b.preventDefault()});c.appendChild(d)}if(a.no){var d=e("a",{html:a.no_button,href:"#no"});i(d,"click",function(b){a.no();modalwindow.close();b.stopPropagation();b.preventDefault()});c.appendChild(d)}var d=e("a",{html:a.cancel_button,href:"#close"});i(d,"click",function(a){modalwindow.close();a.stopPropagation();a.preventDefault()});c.appendChild(d);b.appendChild(c)};var o=function(a,b,c){d.input=e("input",{name:"prompt",type:"text"});b.appendChild(d.input);if(a.yes){var f=e("a",{html:a.yes_button,href:"#yes"});i(f,"click",function(b){a.yes(d.input.value);modalwindow.close();b.stopPropagation();b.preventDefault()});c.appendChild(f)}var f=e("a",{html:a.cancel_button,href:"#close"});i(f,"click",function(a){modalwindow.close();a.stopPropagation();a.preventDefault()});c.appendChild(f);b.appendChild(c)};var p=function(a){d.box=e("div",{"class":"modalwindow_box",styles:{width:"50%",position:"fixed",top:"25%",left:"25%","z-index":1e3}});g(d.box);var b=e("div",{"class":"modalwindow_container"});var c=e("h3",{html:a.title});b.appendChild(c);var f=e("p",{html:a.text});b.appendChild(f);var h=e("div",{"class":"modalwindow_buttons"});if(a.type=="alert"){m(a,b,h)}else if(a.type=="confirm"){n(a,b,h)}else if(a.type=="prompt"){o(a,b,h)}d.box.appendChild(b);window.scrollTo(0,k())};return{open:function(){var a=arguments[0]||{},b={};var c={type:"alert",opacity:.5,title:"Popup",text:"",yes_button:"Yes",no_button:"No",cancel_button:"Cancel",yes:false,no:false};for(var d in c){b[d]=a[d]!==undefined?a[d]:c[d]}l(b);p(b)},close:function(){h(d.overlay);h(d.box)}}}(window,document)